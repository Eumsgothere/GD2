using UnityEngine;

public class CameraSwitcher : MonoBehaviour
{
    public Transform topViewPos;         // Assign TopViewCamPos in Inspector
    public Transform thirdPersonPos;     // Assign ThirdPersonCamPos in Inspector
    public Transform player;             // Assign your Player in Inspector
    public float transitionSpeed = 2f;

    private bool isThirdPerson = false;

    void Start()
    {
        // Start from top view
        if (topViewPos)
        {
            transform.position = topViewPos.position;
            transform.rotation = topViewPos.rotation;
        }
    }

    void LateUpdate()
    {
        if (isThirdPerson && thirdPersonPos && player)
        {
            // Smoothly follow third person
            Vector3 targetPos = player.position + (thirdPersonPos.position - thirdPersonPos.parent.position);
            transform.position = Vector3.Lerp(transform.position, targetPos, transitionSpeed * Time.deltaTime);
            transform.rotation = Quaternion.Lerp(transform.rotation, thirdPersonPos.rotation, transitionSpeed * Time.deltaTime);
        }
    }

    public void SwitchToThirdPerson()
    {
        isThirdPerson = true;
    }
}