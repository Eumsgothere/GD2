using UnityEngine;

public class RotatingDoor : MonoBehaviour
{
    private static RotatingDoor instance;
    private bool isOpening = false;
    private float openAngle = 90f;      // how far to open
    private float rotationSpeed = 45f;  // degrees per second
    private float rotated = 0f;

    private void Awake()
    {
        instance = this;
    }

    private void Update()
    {
        if (isOpening && rotated < openAngle)
        {
            float rotateAmount = rotationSpeed * Time.deltaTime;
            transform.Rotate(Vector3.up, rotateAmount);
            rotated += rotateAmount;
        }
    }

    public static void OpenDoor()
    {
        if (instance != null)
        {
            instance.isOpening = true;
        }
        else
        {
            Debug.LogWarning("⚠️ No RotatingDoor found in the scene!");
        }
    }
}